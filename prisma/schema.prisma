generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model databasechangelog {
  id            String   @db.VarChar(255)
  author        String   @db.VarChar(255)
  filename      String   @db.VarChar(255)
  dateexecuted  DateTime @db.Timestamp(6)
  orderexecuted Int
  exectype      String   @db.VarChar(10)
  md5sum        String?  @db.VarChar(35)
  description   String?  @db.VarChar(255)
  comments      String?  @db.VarChar(255)
  tag           String?  @db.VarChar(255)
  liquibase     String?  @db.VarChar(20)
  contexts      String?  @db.VarChar(255)
  labels        String?  @db.VarChar(255)
  deployment_id String?  @db.VarChar(10)

  @@ignore
}

model databasechangeloglock {
  id          Int       @id
  locked      Boolean
  lockgranted DateTime? @db.Timestamp(6)
  lockedby    String?   @db.VarChar(255)
}

model old_passwords {
  id                       BigInt    @id @default(autoincrement())
  encrypted_password       String    @db.VarChar(255)
  password_archivable_type String    @db.VarChar(255)
  password_archivable_id   Int
  created_at               DateTime? @db.Timestamp(6)

  @@index([password_archivable_type, password_archivable_id], map: "index_password_archivableddu")
}

model pafs_core_areas {
  id                   BigInt                 @id @default(autoincrement())
  name                 String?                @db.VarChar(255)
  parent_id            Int?
  area_type            String?                @db.VarChar(255)
  created_at           DateTime               @db.Timestamp(6)
  updated_at           DateTime               @db.Timestamp(6)
  sub_type             String?                @db.VarChar(255)
  identifier           String?                @db.VarChar(255)
  end_date             DateTime?              @db.Date
  pafs_core_user_areas pafs_core_user_areas[]

  @@index([name], map: "index_pafs_core_areas_on_name")
}

model pafs_core_user_areas {
  id              BigInt          @id @default(autoincrement())
  created_at      DateTime        @db.Timestamp(6)
  updated_at      DateTime        @db.Timestamp(6)
  user_id         BigInt
  area_id         BigInt
  primary         Boolean?        @default(false)
  pafs_core_areas pafs_core_areas @relation(fields: [area_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_user_areas_area_id")
  pafs_core_users pafs_core_users @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "fk_user_areas_user_id")

  @@index([area_id], map: "index_pafs_core_user_areas_on_area_id")
  @@index([user_id], map: "index_pafs_core_user_areas_on_user_id")
}

model pafs_core_users {
  id                     BigInt                 @id @default(autoincrement())
  email                  String                 @unique(map: "index_pafs_core_users_on_email") @default("") @db.VarChar(255)
  encrypted_password     String                 @default("") @db.VarChar(255)
  reset_password_token   String?                @unique(map: "index_pafs_core_users_on_reset_password_token") @db.VarChar(255)
  reset_password_sent_at DateTime?              @db.Timestamp(6)
  remember_created_at    DateTime?              @db.Timestamp(6)
  sign_in_count          Int                    @default(0)
  current_sign_in_at     DateTime?              @db.Timestamp(6)
  last_sign_in_at        DateTime?              @db.Timestamp(6)
  current_sign_in_ip     String?                @db.Inet
  last_sign_in_ip        String?                @db.Inet
  failed_attempts        Int                    @default(0)
  unlock_token           String?                @unique(map: "index_pafs_core_users_on_unlock_token") @db.VarChar(255)
  locked_at              DateTime?              @db.Timestamp(6)
  first_name             String                 @default("") @db.VarChar(255)
  last_name              String                 @default("") @db.VarChar(255)
  job_title              String?                @db.VarChar(255)
  created_at             DateTime               @db.Timestamp(6)
  updated_at             DateTime               @db.Timestamp(6)
  invitation_token       String?                @unique(map: "index_pafs_core_users_on_invitation_token") @db.VarChar(255)
  invitation_created_at  DateTime?              @db.Timestamp(6)
  invitation_sent_at     DateTime?              @db.Timestamp(6)
  invitation_accepted_at DateTime?              @db.Timestamp(6)
  invitation_limit       Int?
  invited_by_id          Int?
  invited_by_type        String?                @db.VarChar(255)
  invitations_count      Int?                   @default(0)
  admin                  Boolean                @default(false)
  disabled               Boolean                @default(false)
  unique_session_id      String?                @db.VarChar(20)
  organisation           String                 @default("") @db.VarChar(255)
  telephone_number       String?                @db.VarChar(255)
  status                 String                 @default("") @db.VarChar(255)
  pafs_core_user_areas   pafs_core_user_areas[]

  @@index([disabled], map: "index_pafs_core_users_on_disabled")
  @@index([invitations_count], map: "index_pafs_core_users_on_invitations_count")
  @@index([invited_by_id], map: "index_pafs_core_users_on_invited_by_id")
}

model pafs_core_projects {
  id                                BigInt    @id @default(autoincrement())
  reference_number                  String    @db.VarChar(255)
  version                           Int
  name                              String?   @db.VarChar(255)
  project_type                      String?   @db.VarChar(255)
  project_location                  String[]
  project_location_zoom_level       Int?
  grid_reference                    String?   @db.VarChar(255)
  region                            String?   @db.VarChar(255)
  parliamentary_constituency        String?   @db.VarChar(255)
  county                            String?   @db.VarChar(255)
  benefit_area                      String?
  benefit_area_centre               String[]
  benefit_area_zoom_level           Int?
  benefit_area_file_name            String?   @db.VarChar(255)
  benefit_area_content_type         String?   @db.VarChar(255)
  benefit_area_file_size            Int?
  benefit_area_file_updated_at      DateTime? @db.Timestamp(6)
  start_outline_business_case_month Int?
  start_outline_business_case_year  Int?
  award_contract_month              Int?
  award_contract_year               Int?
  start_construction_month          Int?
  start_construction_year           Int?
  ready_for_service_month           Int?
  ready_for_service_year            Int?
  created_at                        DateTime  @db.Timestamp(6)
  updated_at                        DateTime  @db.Timestamp(6)

  @@index([reference_number], map: "index_pafs_core_projects_on_reference_number")
}
